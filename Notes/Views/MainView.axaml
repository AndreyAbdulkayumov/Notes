<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Notes.ViewModels"
			 mc:Ignorable="d"
             x:Class="Notes.Views.MainView"
			 x:DataType="vm:MainViewModel"
			 Background="{StaticResource WorkArea_Background}">

	<Design.DataContext>
		<vm:MainViewModel/>
	</Design.DataContext>

	<UserControl.Resources>
		<StreamGeometry x:Key="calendar_add_regular">M17.5,12 C20.5375661,12 23,14.4624339 23,17.5 C23,20.5375661 20.5375661,23 17.5,23 C14.4624339,23 12,20.5375661 12,17.5 C12,14.4624339 14.4624339,12 17.5,12 Z M17.75,3 C19.5449254,3 21,4.45507456 21,6.25 L21.0012092,12.0225923 C20.5377831,11.7257502 20.0341997,11.4861106 19.5004209,11.3136354 L19.5,8.5 L4.5,8.5 L4.5,17.75 C4.5,18.7164983 5.28350169,19.5 6.25,19.5 L11.3136354,19.5004209 C11.4861106,20.0341997 11.7257502,20.5377831 12.0225923,21.0012092 L6.25,21 C4.45507456,21 3,19.5449254 3,17.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L17.75,3 Z M17.5,14 L17.4101244,14.0080557 C17.2060313,14.0450996 17.0450996,14.2060313 17.0080557,14.4101244 L17,14.5 L17,17 L14.5,17 L14.4101244,17.0080557 C14.2060313,17.0450996 14.0450996,17.2060313 14.0080557,17.4101244 L14,17.5 L14.0080557,17.5898756 C14.0450996,17.7939687 14.2060313,17.9549004 14.4101244,17.9919443 L14.5,18 L17,18 L17,20.5 L17.0080557,20.5898756 C17.0450996,20.7939687 17.2060313,20.9549004 17.4101244,20.9919443 L17.5,21 L17.5898756,20.9919443 C17.7939687,20.9549004 17.9549004,20.7939687 17.9919443,20.5898756 L18,20.5 L18,18 L20.5,18 L20.5898756,17.9919443 C20.7939687,17.9549004 20.9549004,17.7939687 20.9919443,17.5898756 L21,17.5 L20.9919443,17.4101244 C20.9549004,17.2060313 20.7939687,17.0450996 20.5898756,17.0080557 L20.5,17 L18,17 L18,14.5 L17.9919443,14.4101244 C17.9549004,14.2060313 17.7939687,14.0450996 17.5898756,14.0080557 L17.5,14 Z M17.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,7 L19.5,7 L19.5,6.25 C19.5,5.28350169 18.7164983,4.5 17.75,4.5 Z</StreamGeometry>
		<StreamGeometry x:Key="comment_add_regular">M12.0222817,2.99927567 C11.7253991,3.46285541 11.4857535,3.96661073 11.3133148,4.50057151 L5.25,4.5 C4.28350169,4.5 3.5,5.28350169 3.5,6.25 L3.5,14.75 C3.5,15.7164983 4.28350169,16.5 5.25,16.5 L7.49878573,16.5 L7.49985739,20.2505702 L12.5135149,16.5 L18.75,16.5 C19.7164983,16.5 20.5,15.7164983 20.5,14.75 L20.5010736,12.2672297 C21.0520148,11.9799518 21.5566422,11.6160435 22.0008195,11.1896412 L22,14.75 C22,16.5449254 20.5449254,18 18.75,18 L13.0124851,18 L7.99868152,21.7506795 C7.44585139,22.1641649 6.66249789,22.0512036 6.2490125,21.4983735 C6.08735764,21.2822409 6,21.0195912 6,20.7499063 L5.99921427,18 L5.25,18 C3.45507456,18 2,16.5449254 2,14.75 L2,6.25 C2,4.45507456 3.45507456,3 5.25,3 L12.0222817,2.99927567 Z M17.5,1 C20.5375661,1 23,3.46243388 23,6.5 C23,9.53756612 20.5375661,12 17.5,12 C14.4624339,12 12,9.53756612 12,6.5 C12,3.46243388 14.4624339,1 17.5,1 Z M17.5,2.5 L17.4101244,2.50805567 C17.2060313,2.54509963 17.0450996,2.70603131 17.0080557,2.91012437 L17,3 L16.999,6 L14,6 L13.9101244,6.00805567 C13.7060313,6.04509963 13.5450996,6.20603131 13.5080557,6.41012437 L13.5,6.5 L13.5080557,6.58987563 C13.5450996,6.79396869 13.7060313,6.95490037 13.9101244,6.99194433 L14,7 L16.999,7 L17,10 L17.0080557,10.0898756 C17.0450996,10.2939687 17.2060313,10.4549004 17.4101244,10.4919443 L17.5,10.5 L17.5898756,10.4919443 C17.7939687,10.4549004 17.9549004,10.2939687 17.9919443,10.0898756 L18,10 L17.999,7 L21,7 L21.0898756,6.99194433 C21.2939687,6.95490037 21.4549004,6.79396869 21.4919443,6.58987563 L21.5,6.5 L21.4919443,6.41012437 C21.4549004,6.20603131 21.2939687,6.04509963 21.0898756,6.00805567 L21,6 L17.999,6 L18,3 L17.9919443,2.91012437 C17.9549004,2.70603131 17.7939687,2.54509963 17.5898756,2.50805567 L17.5,2.5 Z</StreamGeometry>
		<StreamGeometry x:Key="table_column_delete_regular">M22 3.75C22 3.33579 21.6642 3 21.25 3L20.25 3C18.4551 3 17 4.45508 17 6.25V17.75C17 19.5449 18.4551 21 20.25 21H21.25C21.6642 21 22 20.6642 22 20.25C22 19.8358 21.6642 19.5 21.25 19.5H20.25C19.2835 19.5 18.5 18.7165 18.5 17.75V15.5H21.25C21.6642 15.5 22 15.1642 22 14.75C22 14.3358 21.6642 14 21.25 14H18.5V10H21.25C21.6642 10 22 9.66421 22 9.25C22 8.83579 21.6642 8.5 21.25 8.5H18.5V6.25C18.5 5.2835 19.2835 4.5 20.25 4.5H21.25C21.6642 4.5 22 4.16421 22 3.75Z M2 3.75C2 3.33579 2.33579 3 2.75 3L3.75 3C5.54493 3 7 4.45507 7 6.25L7 17.75C7 19.5449 5.54493 21 3.75 21H2.75C2.33579 21 2 20.6642 2 20.25C2 19.8358 2.33579 19.5 2.75 19.5H3.75C4.7165 19.5 5.5 18.7165 5.5 17.75L5.5 15.5H2.75C2.33579 15.5 2 15.1642 2 14.75C2 14.3358 2.33579 14 2.75 14H5.5L5.5 10H2.75C2.33579 10 2 9.66421 2 9.25C2 8.83579 2.33579 8.5 2.75 8.5H5.5L5.5 6.25C5.5 5.2835 4.7165 4.5 3.75 4.5H2.75C2.33579 4.5 2 4.16421 2 3.75Z M10.9393 12L9.46967 13.4697C9.17678 13.7626 9.17678 14.2374 9.46967 14.5303C9.76256 14.8232 10.2374 14.8232 10.5303 14.5303L12 13.0607L13.4697 14.5303C13.7626 14.8232 14.2374 14.8232 14.5303 14.5303C14.8232 14.2374 14.8232 13.7626 14.5303 13.4697L13.0607 12L14.5303 10.5303C14.8232 10.2374 14.8232 9.76256 14.5303 9.46967C14.2374 9.17678 13.7626 9.17678 13.4697 9.46967L12 10.9393L10.5303 9.46967C10.2374 9.17678 9.76256 9.17678 9.46967 9.46967C9.17678 9.76256 9.17678 10.2374 9.46967 10.5303L10.9393 12Z M11.25 8.72739C11.2758 8.75048 11.3011 8.77441 11.3258 8.79918L12 9.47335L12.6742 8.79917C12.6989 8.77441 12.7242 8.75048 12.75 8.72739V2.75C12.75 2.33579 12.4142 2 12 2C11.5858 2 11.25 2.33579 11.25 2.75L11.25 8.72739Z M11.25 15.5226V21.25C11.25 21.6642 11.5858 22 12 22C12.4142 22 12.75 21.6642 12.75 21.25V15.5226C12.7242 15.4995 12.6989 15.4756 12.6742 15.4508L12 14.7767L11.3258 15.4508C11.3011 15.4756 11.2758 15.4995 11.25 15.5226Z</StreamGeometry>
		<StreamGeometry x:Key="comment_delete_regular">M12.0222817,2.99927567 C11.7253991,3.46285541 11.4857535,3.96661073 11.3133148,4.50057151 L5.25,4.5 C4.28350169,4.5 3.5,5.28350169 3.5,6.25 L3.5,14.75 C3.5,15.7164983 4.28350169,16.5 5.25,16.5 L7.49878573,16.5 L7.49985739,20.2505702 L12.5135149,16.5 L18.75,16.5 C19.7164983,16.5 20.5,15.7164983 20.5,14.75 L20.5010736,12.2672297 C21.0520148,11.9799518 21.5566422,11.6160435 22.0008195,11.1896412 L22,14.75 C22,16.5449254 20.5449254,18 18.75,18 L13.0124851,18 L7.99868152,21.7506795 C7.44585139,22.1641649 6.66249789,22.0512036 6.2490125,21.4983735 C6.08735764,21.2822409 6,21.0195912 6,20.7499063 L5.99921427,18 L5.25,18 C3.45507456,18 2,16.5449254 2,14.75 L2,6.25 C2,4.45507456 3.45507456,3 5.25,3 L12.0222817,2.99927567 Z M17.5,1 C20.5375661,1 23,3.46243388 23,6.5 C23,9.53756612 20.5375661,12 17.5,12 C14.4624339,12 12,9.53756612 12,6.5 C12,3.46243388 14.4624339,1 17.5,1 Z M14.7156945,3.58859116 L14.6464466,3.64644661 L14.5885912,3.7156945 C14.4704696,3.88620412 14.4704696,4.11379588 14.5885912,4.2843055 L14.6464466,4.35355339 L16.793,6.5 L14.6464466,8.64644661 L14.5885912,8.7156945 C14.4704696,8.88620412 14.4704696,9.11379588 14.5885912,9.2843055 L14.6464466,9.35355339 L14.7156945,9.41140884 C14.8862041,9.52953039 15.1137959,9.52953039 15.2843055,9.41140884 L15.3535534,9.35355339 L17.5,7.207 L19.6464466,9.35355339 L19.7156945,9.41140884 C19.8862041,9.52953039 20.1137959,9.52953039 20.2843055,9.41140884 L20.3535534,9.35355339 L20.4114088,9.2843055 C20.5295304,9.11379588 20.5295304,8.88620412 20.4114088,8.7156945 L20.3535534,8.64644661 L18.207,6.5 L20.3535534,4.35355339 L20.4114088,4.2843055 C20.5295304,4.11379588 20.5295304,3.88620412 20.4114088,3.7156945 L20.3535534,3.64644661 L20.2843055,3.58859116 C20.1137959,3.47046961 19.8862041,3.47046961 19.7156945,3.58859116 L19.6464466,3.64644661 L17.5,5.793 L15.3535534,3.64644661 L15.2843055,3.58859116 C15.1381544,3.48734412 14.9500654,3.47288026 14.791932,3.54519957 L14.7156945,3.58859116 Z</StreamGeometry>
		<StreamGeometry x:Key="delete_regular">M24,7.25 C27.1017853,7.25 29.629937,9.70601719 29.7458479,12.7794443 L29.75,13 L37,13 C37.6903559,13 38.25,13.5596441 38.25,14.25 C38.25,14.8972087 37.7581253,15.4295339 37.1278052,15.4935464 L37,15.5 L35.909,15.5 L34.2058308,38.0698451 C34.0385226,40.2866784 32.1910211,42 29.9678833,42 L18.0321167,42 C15.8089789,42 13.9614774,40.2866784 13.7941692,38.0698451 L12.09,15.5 L11,15.5 C10.3527913,15.5 9.8204661,15.0081253 9.75645361,14.3778052 L9.75,14.25 C9.75,13.6027913 10.2418747,13.0704661 10.8721948,13.0064536 L11,13 L18.25,13 C18.25,9.82436269 20.8243627,7.25 24,7.25 Z M33.4021054,15.5 L14.5978946,15.5 L16.2870795,37.8817009 C16.3559711,38.7945146 17.116707,39.5 18.0321167,39.5 L29.9678833,39.5 C30.883293,39.5 31.6440289,38.7945146 31.7129205,37.8817009 L33.4021054,15.5 Z M27.25,20.75 C27.8972087,20.75 28.4295339,21.2418747 28.4935464,21.8721948 L28.5,22 L28.5,33 C28.5,33.6903559 27.9403559,34.25 27.25,34.25 C26.6027913,34.25 26.0704661,33.7581253 26.0064536,33.1278052 L26,33 L26,22 C26,21.3096441 26.5596441,20.75 27.25,20.75 Z M20.75,20.75 C21.3972087,20.75 21.9295339,21.2418747 21.9935464,21.8721948 L22,22 L22,33 C22,33.6903559 21.4403559,34.25 20.75,34.25 C20.1027913,34.25 19.5704661,33.7581253 19.5064536,33.1278052 L19.5,33 L19.5,22 C19.5,21.3096441 20.0596441,20.75 20.75,20.75 Z M24,9.75 C22.2669685,9.75 20.8507541,11.1064548 20.7551448,12.8155761 L20.75,13 L27.25,13 C27.25,11.2050746 25.7949254,9.75 24,9.75 Z</StreamGeometry>
		<StreamGeometry x:Key="pane_close_regular">M19.25,3.99813 C20.7125481,3.99813 21.9084055,5.13983743 21.9949813,6.58060798 L22,6.74813 L22,17.2518 C22,18.7143481 20.8583111,19.9102055 19.4175241,19.9967813 L19.25,20.0018 L4.75,20.0018 C3.28747111,20.0018 2.09159594,18.8601111 2.00501881,17.4193241 L2,17.2518 L2,6.74813 C2,5.28559148 3.14170743,4.08972523 4.58247798,4.00314877 L4.75,3.99813 L19.25,3.99813 Z M19.25,5.49813 L15.9959,5.49813 L15.9958,18.5018 L19.25,18.5018 C19.89725,18.5018 20.4295391,18.0099641 20.4935469,17.3796125 L20.5,17.2518 L20.5,6.74813 C20.5,6.1009175 20.0081641,5.56859563 19.3778125,5.50458356 L19.25,5.49813 Z M14.4959,5.49813 L4.75,5.49813 C4.10279688,5.49813 3.5704668,5.99000109 3.50645367,6.62032409 L3.5,6.74813 L3.5,17.2518 C3.5,17.89905 3.99187109,18.4313391 4.62219409,18.4953469 L4.75,18.5018 L14.4959,18.5018 L14.4959,5.49813 Z M10.3508,9.14531 L12.85,11.6446 C13.0453,11.8398 13.0453,12.1564 12.85,12.3517 L10.3508,14.8509 C10.1555,15.0462 9.83891,15.0462 9.64365,14.8509 C9.44839,14.6557 9.44839,14.3391 9.64365,14.1438 L11.2892,12.4982 L6.50492,12.5 C6.22877,12.5001 6.00483,12.2763 6.00472993,12.0002 C6.00463,11.724 6.22841,11.5001 6.50455,11.5 L11.2895,11.4982 L9.64365,9.85241 C9.44839,9.65715 9.44839,9.34057 9.64365,9.14531 C9.83891,8.95004 10.1555,8.95004 10.3508,9.14531 Z</StreamGeometry>
	</UserControl.Resources>
	
	<Grid>

		<Grid.RowDefinitions>
			<RowDefinition Height="50"/>
			<RowDefinition Height="1*"/>
		</Grid.RowDefinitions>
		
		<Button Grid.Row="0"
				Background="Silver"
				BorderBrush="Black"
				BorderThickness="1"
				Height="35" Width="40"
				Margin="10,0,10,0"
				HorizontalAlignment="Left" VerticalAlignment="Center"
				Command="{Binding Command_AddBlock}"
				ToolTip.Tip="Добавить столбец">
			
			<Button.Content>
				<PathIcon Foreground="Black"
						  Data="{StaticResource calendar_add_regular}"/>
			</Button.Content>			
			
		</Button>

		
		
		<ItemsControl Grid.Row="1" ItemsSource="{Binding Blocks}">

			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<StackPanel Orientation="Horizontal"/>
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>

			<ItemsControl.ItemTemplate>
				<DataTemplate>

					<Grid MinWidth="200" MaxWidth="400" MinHeight="150">
						
						
						<Grid.RowDefinitions>
							<RowDefinition Height="50"/>
							<RowDefinition Height="1*"/>
						</Grid.RowDefinitions>
						
						<TextBox Grid.Row="0" Text="{Binding Title}"
								 FontSize="20"
								 Padding="10"
								 Background="{StaticResource WorkArea_Background}"
								 Foreground="{StaticResource Text_Color}"
								 BorderBrush="{StaticResource WorkArea_BorderBrush}"
								 CaretBrush="{StaticResource Text_Color}"
								 SelectionBrush="{StaticResource WorkArea_SelectionBrush}"
								 CornerRadius="0"
								 TextWrapping="Wrap"
								 Margin="50,0,50,0"
								 HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
								 HorizontalContentAlignment="Center"
								 VerticalContentAlignment="Center">

							<!-- Переопредление некоторых цветов шаблона -->

							<TextBox.Resources>

								<SolidColorBrush x:Key="TextControlForegroundFocused" Color="Black"/>

								<SolidColorBrush x:Key="TextControlBackgroundPointerOver" Color="#FFE4BE72"/>
								<SolidColorBrush x:Key="TextControlBackgroundFocused" Color="#FFE4BE72"/>

							</TextBox.Resources>

						</TextBox>

						<Button Grid.Row="0"
								Background="Silver"
								BorderBrush="Black"
								BorderThickness="1"
								Height="35" Width="40"
								Margin="0,0,5,0"
								HorizontalAlignment="Right" VerticalAlignment="Center"
								Command="{Binding Command_RemoveBlock}"
								ToolTip.Tip="Удалить столбец">

							<Button.Content>
								<PathIcon Foreground="Black"
										  Data="{StaticResource comment_delete_regular}"/>									
							</Button.Content>
								
						</Button>

						<TextBox Grid.Row="1" Text="{Binding Content}"
								 FontSize="16"
								 Padding="10"
								 Background="{StaticResource WorkArea_Background}"
								 Foreground="{StaticResource Text_Color}"
								 BorderBrush="{StaticResource WorkArea_BorderBrush}"
								 CaretBrush="{StaticResource Text_Color}"
								 SelectionBrush="{StaticResource WorkArea_SelectionBrush}"
								 CornerRadius="0"
								 AcceptsReturn="True" TextWrapping="Wrap"
								 HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

							<!-- Переопредление некоторых цветов шаблона -->

							<TextBox.Resources>

								<SolidColorBrush x:Key="TextControlForegroundFocused" Color="Black"/>
								<SolidColorBrush x:Key="TextControlBackgroundPointerOver" Color="#FFE4BE72"/>
								<SolidColorBrush x:Key="TextControlBackgroundFocused" Color="#FFE4BE72"/>

							</TextBox.Resources>

						</TextBox>
					</Grid>
										
				</DataTemplate>				
			</ItemsControl.ItemTemplate>
			
		</ItemsControl>	

	</Grid>
	
</UserControl>
